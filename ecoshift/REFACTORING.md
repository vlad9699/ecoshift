# Рефакторинг структуры проекта

## Новая структура

Проект был реорганизован для лучшей модульности и поддерживаемости.

### Структура папок

```
ecoshift/
├── components/          # Игровые компоненты (DroneGame, WaterGame, etc.)
│   └── ui/             # Переиспользуемые UI компоненты
│       ├── OperatorAvatar.tsx
│       ├── LevelUpModal.tsx
│       ├── CityCompleteModal.tsx
│       └── AchievementToast.tsx
├── features/           # Компоненты фич (по доменам)
│   ├── Dashboard/      # Главный экран с картой
│   ├── Hangar/         # Магазин улучшений
│   └── Achievements/   # Достижения
├── hooks/              # Кастомные React хуки
│   ├── usePlayerStats.ts
│   ├── useDistricts.ts
│   ├── useSaveSystem.ts
│   ├── useVehicleStats.ts
│   ├── useProgression.ts
│   └── useGameType.ts
├── constants/          # Константы (разделены по назначению)
│   ├── upgrades.ts
│   ├── achievements.ts
│   ├── cities.ts
│   └── titles.ts
├── utils/              # Утилиты
│   ├── levelUtils.ts
│   └── iconUtils.tsx
├── services/           # Внешние сервисы
└── App.tsx             # Главный компонент (упрощен)
```

## Основные изменения

### 1. Хуки (hooks/)

Выделена логика состояния в переиспользуемые хуки:
- `usePlayerStats` - управление статистикой игрока
- `useDistricts` - управление районами
- `useSaveSystem` - автоматическое сохранение
- `useVehicleStats` - расчет статистики транспорта
- `useProgression` - проверка прогресса и достижений
- `useGameType` - определение типа игры

### 2. Компоненты фич (features/)

Большие компоненты разбиты на модули:
- `Dashboard` - главный экран с картой и информацией о районе
- `Hangar` - магазин улучшений
- `Achievements` - список достижений

### 3. UI компоненты (components/ui/)

Переиспользуемые UI элементы:
- `OperatorAvatar` - аватар оператора
- `LevelUpModal` - модальное окно повышения уровня
- `CityCompleteModal` - модальное окно завершения города
- `AchievementToast` - уведомление о достижении

### 4. Константы (constants/)

Разделены по назначению:
- `upgrades.ts` - все улучшения
- `achievements.ts` - достижения
- `cities.ts` - города кампании
- `titles.ts` - титулы игрока

### 5. Утилиты (utils/)

Вспомогательные функции:
- `levelUtils.ts` - функции для работы с уровнями
- `iconUtils.tsx` - рендеринг иконок

## Преимущества новой структуры

1. **Модульность** - каждый компонент отвечает за свою область
2. **Переиспользуемость** - хуки и UI компоненты можно использовать везде
3. **Читаемость** - легче найти нужный код
4. **Тестируемость** - изолированные модули проще тестировать
5. **Масштабируемость** - легко добавлять новые фичи

## Миграция

Старый `App.tsx` сохранен как `App.old.tsx` для справки.

Все импорты обновлены для использования новой структуры.

